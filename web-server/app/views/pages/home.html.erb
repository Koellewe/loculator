
<h1>LoCulator</h1>
<p class="subtitle">For all your LoC calculation needs!</p>

<p>LoCulator is a free and open API that allows anyone to check the number of lines of code their git-based
project has. </p>
<h3>Public projects</h3>
<code class="url">GET <%= @host %>/api/loc/github.com/Koellewe/stonks</code>
<p>Response:</p>
<code><pre>
{
    "vcs_url": "https://github.com/Koellewe/stonks",
    "results":
    {
        "total_lines": 249,
        "blank_lines": 58,
        "total_files": 6,
        "non_text_files": 0
    }
}
</pre></code>

<p>The API also works with Bitbucket, Gitlab, and custom git providers (like self-hosted Gitlab).
Simply replace <strong class="url-provider">github.com</strong> in the URL with your provider's domain.</p>

<h3>Private projects</h3>

<p>To allow LoCulator to clone private repos, you should add its public SSH key with read-only permissions
to your VCS account. Help for GitHub, BitBucket, and GitLab.</p>

<code>
<!-- todo public key -->
  //todo
</code>

<p>Then when you make a request, add the <strong>private</strong> parameter. This will force SSH.</p>

<code class="url">GET <%= @host %>/api/loc/github.com/someone/somerepo?private=true</code>

<h3>Caching</h3>

<p>The service does do internal caching for public projects hosted on one of the big three
providers named above (because they have easy API's for checking the latest commit hashes remotely).
  <br/>However, this can't really work for private repos unless users are willing to pass in
authorised API keys with requests. Somehow I doubt this will be very popular.</p>
<p>If you want to help out with caching in these cases, pass in the latest commit hash when calling the API.
The service will take your word for it, and use it for internal caching, resulting in much faster calls:</p>

<code class="url">GET <%= @host %>/api/loc/github.com/someone/somerepo?private=true&latest_commit=1709cf9e42d91bf14d958f8a4a4c7d24f2170e2c</code>
